<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Farmer</title>
    <script src="https://code.jquery.com/jquery-3.4.0.min.js"></script>
    <script src="js/bootstrap.js"></script>
    <script src="js/web3.js"></script>
    <script src="js/wagyu_contract_helper.js"></script>
    <link rel="stylesheet" href="css/bootstrap.min.css"/>
    <link rel="stylesheet" href="css/wagyuchain.css"/>
</head>
<body>

<nav class="navbar navbar-expand-sm bg-dark navbar-dark">
    <!-- Brand/logo -->
    <a class="navbar-brand" href="index.html">WagyuChain</a>

    <!-- Links -->
    <ul class="navbar-nav">
        <li class="nav-item">
            <a class="nav-link" href="Abattoir.html">Abattoir</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="Consumer.html">Consumer</a>
        </li>
        <li class="nav-item">
            <a class="nav-link active" href="Farmer.html">Farmer</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="Retailer.html">Retailer</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="Vetinarian.html">Vetinarian</a>
        </li>
    </ul>
    <div class="collapse navbar-collapse" id="navbarSupportedContent-4">
        <ul class="navbar-nav ml-auto">
            <li class="nav-item">
                <a class="nav-link">
                    <i class="fab fa-user"></i><b>Account</b></a>
            </li>
            <li class="nav-item dropdown">
                <div class="dropdown show">
                    <button type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown"
                            aria-haspopup="true" aria-expanded="false">
                        Select Account...
                    </button>

                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuLink"
                         id="navbarProfiles">
                        <!--Add ether accounts here with template below-->
                        <!--<a class="dropdown-item" href="#">Add Account</a>-->
                    </div>
                </div>
            </li>
            <li class="nav-item">
                <a class="nav-link"><span id="activeAccountBalance"></span></a>
            </li>
        </ul>
    </div>
</nav>
<div class="container-fluid">
    <div id="alert-container"></div>
    <br/>
    <div class="card">
        <div class="card-body">
            <h2>Farmer Menu</h2>
        </div>
    </div>
    <br/>
    <h4>Blockchain Actions</h4>
    <br/>
    <div class="alert alert-danger alert-dismissible fade show" role="alert" id="error_alert_box"
         hidden>
        <strong>Errors</strong>
        <ul id="error_list">
        </ul>
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div id="accordian">
        <div class="card">
            <div class="card-header bg-light" data-toggle="collapse" href="#inputGroup01" style="cursor: pointer">
                Add Cow
            </div>
            <div class="collapse" id="inputGroup01">
                <div class="card-body">
                    <h5 class="card-title">Create a blockchain entry for your cow</h5>
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <span class="input-group-text">Cow RFID Tag</span>
                        </div>
                        <input maxlength="32" type="text" class="form-control"
                               aria-label="Amount (to the nearest dollar)" id="inputTextCowRFIDTag">
                    </div>

                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <span class="input-group-text">New Cow Address</span>
                        </div>
                        <input type="text" class="form-control" aria-label="Amount (to the nearest dollar)"
                               id="inputTextNewAddress">
                        <div class="input-group-append">
                            <button onclick="generateNewAddress('inputTextCowRFIDTag','inputTextNewAddress')"
                                    class="btn btn-outline-secondary btn-dark" type="button"><span class="text-white">Auto-generate</span>
                            </button>
                        </div>
                    </div>

                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <div class="input-group-text">
                                <input type="checkbox" aria-label="Checkbox for following text input"
                                       id="inputCheckIsMale"> Is Male Cow
                            </div>
                        </div>
                    </div>

                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <label class="input-group-text" for="inputGroupSelect04">Choose Male Parent</label>
                        </div>
                        <select class="custom-select" id="inputGroupSelect04">
                            <option selected>Choose...</option>
                        </select>
                    </div>

                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <label class="input-group-text" for="inputGroupSelect05">Choose Female Parent</label>
                        </div>
                        <select class="custom-select" id="inputGroupSelect05">
                            <option selected>Choose...</option>
                        </select>
                    </div>

                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <label class="input-group-text" for="inputGroupSelect02">Choose Farm</label>
                        </div>
                        <select class="custom-select" id="inputGroupSelect02">
                            <option selected>Choose...</option>
                        </select>
                    </div>

                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <div class="input-group-text">
                                <input type="checkbox" aria-label="Checkbox for following text input"
                                       id="inputCheckVet">
                            </div>
                            <span class="input-group-text">Vetinarian</span>
                        </div>
                        <input type="text" class="form-control" aria-label="Amount (to the nearest dollar)"
                               id="inputTextVetAddress">
                    </div>

                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <span class="input-group-text">Weight (Kg)</span>
                        </div>
                        <input type="number" class="form-control" id="inputNumberWeight">
                    </div>

                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <span class="input-group-text">Height and Length (cm)</span>
                        </div>
                        <input type="number" class="form-control" id="inputNumberHeight">
                        <input type="number" class="form-control" id="inputNumberLength">
                    </div>

                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <span class="input-group-text">Value (Ether)</span>
                        </div>
                        <input type="number" class="form-control" aria-label="Amount (to the nearest dollar)"
                               id="inputNumberEtherValue">
                    </div>

                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <label for="inputGroupSelect03" class="input-group-text">Abottoir</label>
                        </div>
                        <select class="custom-select" id="inputGroupSelect03">
                            <option selected>Choose...</option>
                        </select>
                    </div>
                    <a href="#" onclick="addCow()" class="btn btn-primary">Add New Cow</a>
                </div>
            </div>
        </div>
        <br/>
        <div class="card">
            <div class="card-header bg-light" data-toggle="collapse" href="#inputGroup02" style="cursor: pointer">
                Purchase Cow (Transfer)
            </div>
            <div class="collapse" id="inputGroup02">
                <div class="card-body">
                    <p class="card-text">Purchase a cow by selecting the cow below.</p>
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <label class="input-group-text" for="inputGroupSelect01">Cows for Sale</label>
                        </div>
                        <select class="custom-select" id="inputGroupSelect01">
                            <option selected>Choose...</option>
                        </select>
                    </div>
                    <a href="#" onclick="purchaseCow()" class="btn btn-primary">Purchase</a>
                </div>
            </div>
        </div>
        <br/>
        <div class="card">
            <div class="card-header bg-light" data-toggle="collapse" href="#inputGroup03" style="cursor: pointer">
                Relocate Cow
            </div>
            <div class="collapse" id="inputGroup03">
                <div class="card-body">
                    <p class="card-text">Transfer cow to new farm</p>
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <label class="input-group-text" for="inputGroupSelect09">Owned Cows</label>
                        </div>
                        <select class="custom-select" id="inputGroupSelect09">
                            <option selected>Choose...</option>
                        </select>
                    </div>
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <label class="input-group-text" for="inputGroupSelect10">New Farm</label>
                        </div>
                        <select class="custom-select" id="inputGroupSelect10">
                            <option selected>Choose...</option>
                        </select>
                    </div>
                    <a href="#" onclick="relocate()" class="btn btn-primary">Relocate</a>
                </div>
            </div>
        </div>
        <br/>
        <div class="card">
            <div class="card-header bg-light" data-toggle="collapse" href="#inputGroup04" style="cursor: pointer">
                Add Cow Meal
            </div>
            <div class="collapse" id="inputGroup04">
                <div class="card-body">
                    <p class="card-text">Add cow meal</p>
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <label class="input-group-text" for="inputGroupSelect08">Cow</label>
                        </div>
                        <select class="custom-select" id="inputGroupSelect08">
                            <option selected>Choose...</option>
                        </select>
                    </div>
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <span class="input-group-text">Food Type</span>
                        </div>
                        <input type="text" class="form-control" aria-label="Amount (to the nearest dollar)"
                               id="inputTextFoodType">
                    </div>
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <span class="input-group-text">Quantity (Kg)</span>
                        </div>
                        <input type="number" class="form-control" aria-label="Amount (to the nearest dollar)"
                               id="inputNumberFoodQuantity">
                    </div>
                    <a href="#" onclick="addMeal()" class="btn btn-primary">Add Meal</a>
                </div>
            </div>
        </div>
        <br/>
        <div class="card">
            <div class="card-header bg-light" data-toggle="collapse" href="#inputGroup05" style="cursor: pointer">
                Send Cow to Abattoir
            </div>
            <div class="collapse" id="inputGroup05">
                <div class="card-body">
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <label class="input-group-text" for="inputGroupSelect11">New Farm</label>
                        </div>
                        <select class="custom-select" id="inputGroupSelect11">
                            <option selected>Choose...</option>
                        </select>
                    </div>
                    <a href="#" onclick="toAbbottoir()" class="btn btn-primary">Slaughter Cow</a>
                </div>
            </div>
        </div>
        <br/>
        <div class="card">
            <div class="card-header bg-light" data-toggle="collapse" href="#inputGroup06" style="cursor: pointer">
                Set Market Status
            </div>
            <div class="collapse" id="inputGroup06">
                <div class="card-body">
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <label class="input-group-text" for="inputGroupSelect12">Cow</label>
                        </div>
                        <select class="custom-select" id="inputGroupSelect12">
                            <option selected>Choose...</option>
                        </select>
                    </div>
                    <strong class="card-text">Current Market Status</strong><p class="card-text" id="inputCurrentMarketStatus"></p>
                    <input type="checkbox" aria-label="Checkbox for following text input"
                           id="inputCheck_CurrentMarketStatus"> Check to set for sale.<br/>
                    <a href="#" onclick="setForSale()" class="btn btn-primary">Update Market Status</a>
                </div>
            </div>
        </div>
        <br/>
        <div class="card">
            <div class="card-header bg-light" data-toggle="collapse" href="#inputGroup07" style="cursor: pointer">
                Set Vetinarian
            </div>
            <div class="collapse" id="inputGroup07">
                <div class="card-body">
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <label class="input-group-text" for="inputGroupSelect13">Cow</label>
                        </div>
                        <select class="custom-select" id="inputGroupSelect13">
                            <option selected>Choose...</option>
                        </select>
                    </div>
                    <Strong class="card-text">Current Vetinarian is </Strong><p class="card-text" id="inputCurrentVetinarian"></p>

                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <label class="input-group-text" for="inputGroupSelect14">New Vetinarian</label>
                        </div>
                        <select class="custom-select" id="inputGroupSelect14">
                            <option selected>Choose...</option>
                        </select>
                    </div>
                    <a href="#" onclick="setVetinarian()" class="btn btn-primary">Update Vetinarian</a>
                </div>
            </div>
        </div>
        <br/>
        <div class="card">
            <div class="card-header bg-light" data-toggle="collapse" href="#inputGroup08" style="cursor: pointer">
                Set Cow Status
            </div>
            <div class="collapse" id="inputGroup08">
                <div class="card-body">
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <label class="input-group-text" for="inputGroupSelect15">Cow</label>
                        </div>
                        <select class="custom-select" id="inputGroupSelect15">
                            <option selected>Choose...</option>
                        </select>
                    </div>
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <label class="input-group-text" for="inputGroupSelectStatus">Cow Status</label>
                        </div>
                        <select class="custom-select" id="inputGroupSelectStatus">
                            <option selected>Choose...</option>
                            <option value="0">Calf</option>
                            <option value="1">Adult</option>
                            <option value="2">Diseased</option>
                            <option value="3">Dead</option>
                            <option value="4">Slaughter Ready</option>
                            <option value="5">Slaughtered</option>
                        </select>
                    </div>
                    <a href="#" onclick="setCowStatus()" class="btn btn-primary">Update Status</a>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
<script>
    function addCow() {
        //Clear error list and set hidden
        $('#error_list').empty();
        $('#error_alert_box').attr("hidden");

        // check for component sanity
        let rfid = $('#inputTextCowRFIDTag').val();
        if (rfid === "") {
            addItemToList(document.getElementById("error_list"), "RFID Tag cannot be empty");
        }

        let cowAddress = $('#inputTextNewAddress').val();
        if (cowAddress === "") {
            addItemToList(document.getElementById("error_list"), "Cow Address cannot be empty");
        }

        let farmAddress = $('#inputGroupSelect02').val();
        if (farmAddress === "" || farmAddress === "Choose...") {
            addItemToList(document.getElementById("error_list"), "Invalid Farm Address");
        }

        let parentMale = $('#inputGroupSelect04').val();
        if (farmAddress === "" || farmAddress === "Choose...") {
            addItemToList(document.getElementById("error_list"), "Male Parent Address cannot be empty");
        }

        let parentFemale = $('#inputGroupSelect05').val();
        if (farmAddress === "" || farmAddress === "Choose...") {
            addItemToList(document.getElementById("error_list"), "Female Parent Address cannot be empty");
        }

        let vetAddress = $('#inputTextVetAddress').val();
        if (vetAddress === "") {
            addItemToList(document.getElementById("error_list"), "Vetinarian Address cannot be empty");
        }

        let weight = $('#inputNumberWeight').val();
        if (weight === "" || weight === "0") {
            addItemToList(document.getElementById("error_list"), "Weight cannot be empty and must be bigger than 0");
        }

        let height = $('#inputNumberHeight').val();
        if (height === "" || height === "0") {
            addItemToList(document.getElementById("error_list"), "Height cannot be empty and must be bigger than 0");
        }

        let length = $('#inputNumberLength').val();
        if (length === "" || length === "0") {
            addItemToList(document.getElementById("error_list"), "Length cannot be empty and must be bigger than 0");
        }

        let ether = $('#inputNumberEtherValue').val();
        if (ether === "") {
            addItemToList(document.getElementById("error_list"), "Value cannot be empty");
        }

        let abattoir = $('#inputGroupSelect03').val();
        if (abattoir === "" || abattoir === "Choose...") {
            addItemToList(document.getElementById("error_list"), "Abattoir Address cannot be empty");
        }

        let isMale = document.getElementById("inputCheckIsMale").checked;

        // Check if there are errors to display, then display them, else continue
        if (document.querySelectorAll("#error_list > li").length > 0) {
            console.log("Errors while adding cow.");
            $('#error_alert_box').removeAttr("hidden");
        } else {
            // Convert value to wei
            let weiValue = web3.toWei(ether, 'ether');

            web3Contract.born.sendTransaction(cowAddress, farmAddress, vetAddress, rfid, weiValue, [weight, height, length], isMale, [parentMale, parentFemale], abattoir, {
                from: _activeAccount,
                gas: 1000000,
                gasPrice: 100
            }, (error, result) => {
                if (error !== null) {
                    alert(error);
                } else {
                    console.log("Cow added to blockchain ( " + result + ")");
                }
            });
        }
    };

    function relocate() {
        //Clear error list and set hidden
        $('#error_list').empty();
        $('#error_alert_box').attr("hidden");

        let cowAddress = $('#inputGroupSelect09').val();
        if (cowAddress === "" || cowAddress === "Choose...") {
            addItemToList(document.getElementById("error_list"), "Cow Address cannot be empty");
        }

        let newFarmAddress = $('#inputGroupSelect10').val();
        if (newFarmAddress === "" || newFarmAddress === "Choose...") {
            addItemToList(document.getElementById("error_list"), "Farm Address cannot be empty");
        }

        if (document.querySelectorAll("#error_list > li").length > 0) {
            console.log("Errors while adding cow.");
            $('#error_alert_box').removeAttr("hidden");
        } else {
            // Convert value to wei
            let weiValue = web3.toWei(ether, 'ether');

            web3Contract.relocate.sendTransaction(cowAddress, newFarmAddress, {
                from: _activeAccount,
                gas: 1000000,
                gasPrice: 100
            }, (error, result) => {
                if (error !== null) {
                    alert(error);
                } else {
                    console.log("Cow relocated ( " + result + ")");
                }
            });
        }
    };

    function purchaseCow() {
        //Clear error list and set hidden
        $('#error_list').empty();
        $('#error_alert_box').attr("hidden");

        let cowAddress = $('#inputGroupSelect13').val();
        if (cowAddress === "" || cowAddress === "Choose...") {
            addItemToList(document.getElementById("error_list"), "Cow Address cannot be empty");
        }

        if (document.querySelectorAll("#error_list > li").length > 0) {
            console.log("Errors while adding cow.");
            $('#error_alert_box').removeAttr("hidden");
        } else {

            web3Contract.transfer.sendTransaction(cowAddress, {
                from: _activeAccount,
                gas: 1000000,
                gasPrice: 100
            }, (error, result) => {
                if (error !== null) {
                    alert(error);
                } else {
                    console.log("Cow added to blockchain ( " + result + ")");
                }
            });
        }
    };

    function addMeal() {
        //Clear error list and set hidden
        $('#error_list').empty();
        $('#error_alert_box').attr("hidden");

        let cowAddress = $('#inputGroupSelect09').val();
        if (cowAddress === "" || cowAddress === "Choose...") {
            addItemToList(document.getElementById("error_list"), "Cow Address cannot be empty");
        }

        let foodType = $('#inputTextFoodType').val();
        if (foodType === "") {
            addItemToList(document.getElementById("error_list"), "Food type cannot be empty");
        }

        let foodQuantity = $('#inputNumberFoodQuantity').val();
        if (foodQuantity === "" || foodQuantity === "0") {
            addItemToList(document.getElementById("error_list"), "Food quantity cannot be empty and must be bigger than 0");
        }

        if (document.querySelectorAll("#error_list > li").length > 0) {
            console.log("Errors while adding cow.");
            $('#error_alert_box').removeAttr("hidden");
        } else {
            let id = 0;
            web3Contract.mealReceived.sendTransaction(cowAddress, id, foodType, foodQuantity, {
                from: _activeAccount,
                gas: 1000000,
                gasPrice: 100
            }, (error, result) => {
                if (error !== null) {
                    alert(error);
                } else {
                    console.log("Cow's meal added ( " + result + ")");
                }
            });
        }
    };

    function toAbbottoir() {
        //Clear error list and set hidden
        $('#error_list').empty();
        $('#error_alert_box').attr("hidden");

        let cowAddress = $('#inputGroupSelect11').val();
        if (cowAddress === "" || cowAddress === "Choose...") {
            addItemToList(document.getElementById("error_list"), "Cow Address cannot be empty");
        }

        if (document.querySelectorAll("#error_list > li").length > 0) {
            console.log("Errors while adding cow.");
            $('#error_alert_box').removeAttr("hidden");
        } else {
            web3Contract.sendToAbattoir.sendTransaction(cowAddress, {
                from: _activeAccount,
                gas: 1000000,
                gasPrice: 100
            }, (error, result) => {
                if (error !== null) {
                    alert(error);
                } else {
                    console.log("Cow sent to abattoir ( " + result + ")");
                }
            });
        }
    };

    function setForSale() {
        //Clear error list and set hidden
        $('#error_list').empty();
        $('#error_alert_box').attr("hidden");

        let cowAddress = $('#inputGroupSelect12').val();
        if (cowAddress === "" || cowAddress === "Choose...") {
            addItemToList(document.getElementById("error_list"), "Cow Address cannot be empty");
        }

        let isForSale = document.getElementById("inputCheck_CurrentMarketStatus").checked;

        if (document.querySelectorAll("#error_list > li").length > 0) {
            console.log("Errors while adding cow.");
            $('#error_alert_box').removeAttr("hidden");
        } else {
            web3Contract.setCowMarketStatus.sendTransaction(cowAddress, isForSale, {
                from: _activeAccount,
                gas: 1000000,
                gasPrice: 100
            }, (error, result) => {
                if (error !== null) {
                    alert(error);
                } else {
                    console.log("Cow Market Status set  ( " + result + ")");
                }
            });
        }
    }

    function setVetinarian() {
        //Clear error list and set hidden
        $('#error_list').empty();
        $('#error_alert_box').attr("hidden");

        let cowAddress = $('#inputGroupSelect13').val();
        if (cowAddress === "" || cowAddress === "Choose...") {
            addItemToList(document.getElementById("error_list"), "Cow Address cannot be empty");
        }

        let newVet = $('#inputGroupSelect14').val();
        if (newVet === "" || newVet === "Choose...") {
            addItemToList(document.getElementById("error_list"), "New Vetinarian Address cannot be empty");
        }

        if (document.querySelectorAll("#error_list > li").length > 0) {
            console.log("Errors while adding cow.");
            $('#error_alert_box').removeAttr("hidden");
        } else {

            web3Contract.setVetinarian.sendTransaction(cowAddress, newVet, {
                from: _activeAccount,
                gas: 1000000,
                gasPrice: 100
            }, (error, result) => {
                if (error !== null) {
                    alert(error);
                } else {
                    console.log("New Cow Vetinarian set ( " + result + ")");
                }
            });
        }
    }

    function setCowStatus() {
        //Clear error list and set hidden
        $('#error_list').empty();
        $('#error_alert_box').attr("hidden");

        let cowAddress = $('#inputGroupSelect15').val();
        if (cowAddress === "" || cowAddress === "Choose...") {
            addItemToList(document.getElementById("error_list"), "Cow Address cannot be empty");
        }

        // add attribute ' value="1" '
        let status = $('#inputGroupSelectStatus').val();
        if (status === "" || status === "Choose...") {
            addItemToList(document.getElementById("error_list"), "Cow Address cannot be empty");
        }

        if (document.querySelectorAll("#error_list > li").length > 0) {
            console.log("Errors while adding cow.");
            $('#error_alert_box').removeAttr("hidden");
        } else {
            web3Contract.setStatus.sendTransaction(cowAddress, status, {
                from: _activeAccount,
                gas: 1000000,
                gasPrice: 100
            }, (error, result) => {
                if (error !== null) {
                    alert(error);
                } else {
                    console.log("Cow Market Status set  ( " + result + ")");
                }
            });
        }
    }

    function generateNewAddress(rfid, id) {
        let rfidValue = document.getElementById(rfid).value;
        if (rfidValue.length === 0) {
            alert('RFID Field cannot be empty');
        } else {
            web3.personal.newAccount(rfidValue, function (err, address) {
                if (err) {
                    console.log(err);
                }
                document.getElementById(id).value = address;
            });
        }
    }


    window.addEventListener('activeAccountChanged', function (data) {
        document.getElementById("inputTextVetAddress").value = data.detail;
        document.querySelectorAll("#navbarProfiles")[0].parentElement.firstElementChild.textContent = data.detail;
    });

    document.getElementById("inputCheckVet").addEventListener('change', function () {
        if (this.checked) {
            document.getElementById("inputTextVetAddress").value = _activeAccount;
            document.getElementById("inputTextVetAddress").setAttribute("disabled", "disabled");
        } else {
            document.getElementById("inputTextVetAddress").removeAttribute("disabled");
        }
    });

    window.addEventListener('etherAccountsUpdated', function (data) {
        addEntriesToSelect('inputGroupSelect10', data.detail);
        addEntriesToSelect('inputGroupSelect11', data.detail);
        addEntriesToSelect('inputGroupSelect14', data.detail);
    });
</script>
</html>