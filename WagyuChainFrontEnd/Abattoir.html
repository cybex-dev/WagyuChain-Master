<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Farmer</title>
    <script src="https://code.jquery.com/jquery-3.4.0.min.js"></script>
    <script src="js/bootstrap.js"></script>
    <script src="js/web3.js"></script>
    <script src="js/wagyu_contract_helper.js"></script>
    <link rel="stylesheet" href="css/bootstrap.min.css"/>
    <link rel="stylesheet" href="css/wagyuchain.css"/>
</head>
<body>

<nav class="navbar navbar-expand-sm bg-dark navbar-dark">
    <!-- Brand/logo -->
    <a class="navbar-brand" href="index.html">WagyuChain</a>

    <!-- Links -->
    <ul class="navbar-nav">
        <li class="nav-item">
            <a class="nav-link active" href="Abattoir.html">Abattoir</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="Consumer.html">Consumer</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="Farmer.html">Farmer</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="Retailer.html">Retailer</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="Vetinarian.html">Vetinarian</a>
        </li>
    </ul>
    <div class="collapse navbar-collapse" id="navbarSupportedContent-4">
        <ul class="navbar-nav ml-auto">
            <li class="nav-item">
                <a class="nav-link" href="#">
                    <i class="fab fa-user"></i><b>Account</b></a>
            </li>
            <li class="nav-item dropdown">
                <div class="dropdown show">
                    <button type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Select Account...
                    </button>

                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuLink">
                        <a class="dropdown-item" href="#">Add Account</a>
                    </div>
                </div>
            </li>
        </ul>
    </div>
</nav>
<div class="container-fluid">
    <br/>
    <div class="card">
        <div class="card-body">
            <h2>Abattoir Menu</h2>
        </div>
    </div>
    <br/>
    <div class="card">
        <div class="card-header bg-light">
            Slaughter Cow
        </div>
        <div class="card-body">
            <h5 class="card-title">Special title treatment</h5>
            <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
            <a href="#" onclick="addCow()" class="btn btn-primary">Add New Cow</a>
        </div>
    </div>
    <br/>
    <div class="card">
        <div class="card-header bg-light">
            Add Cow Part
        </div>
        <div class="card-body">
            <h5 class="card-title">Special title treatment</h5>
            <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
            <a href="#" onclick="transfer()" class="btn btn-primary">Add Part</a>
        </div>
    </div>
    <br/>
    <div class="card">
        <div class="card-header bg-light">
            Set Part Value
        </div>
        <div class="card-body">
            <h5 class="card-title">Special title treatment</h5>
            <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
            <a href="#" onclick="transfer()" class="btn btn-primary">Set Value</a>
        </div>
    </div>
    <br/>
</div>
<script>
    let contract = null;
    let web3 = null;
    window.addEventListener('load', function () {
        if (typeof window.web3 !== 'undefined') {
            web3 = new Web3(web3.currentProvider);
            alert("Metamask Connected");
        } else {
            web3 = new Web3(new Web3.providers.HttpProvider("http://127.0.0.1:8545"));

            // Get contract instance
            if (web3.eth.getCode(deployAddress) === "0x"){
                alert('No contract exists, please deploy one first to continue');
                document.querySelectorAll("a.btn.btn-primary").forEach(btn => btn.onclick = false)
            }
            contract = web3.eth.contract(abi).at(deployAddress);
        };
    });

    function slaughterCow() {

    };

    function addCowPart() {

    };
    
    function setPartValue() {
        
    }
</script>
</body>
</html>